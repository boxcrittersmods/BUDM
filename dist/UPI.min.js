const uWindow="undefined"!=typeof unsafeWindow?unsafeWindow:window;let UPI;!function(){"use strict";let o={uWindow:uWindow,UPI:UPI};if(window.UPI){for(let i in o)delete window[i];throw"UPI variables are global! please scope/sandbox it"}class i extends EventHandler{constructor({name:o,author:t,version:e,id:n,abbrev:r,GM_info:s,parent:a,scriptSource:d}){if(this.parent=a,this.modInfo={},this.modInfo.name=o,this.modInfo.version=e,this.modInfo.scriptSource=d,s){if("object"!=typeof s)throw new TypeError("Invalid GM_info!");if(!s)throw new TypeError("Invalid GM_info!");this.modInfo.GM_info=s,this.modInfo.scriptSource||(this.modInfo.scriptSource=s.scriptSource)}if(!scriptText)throw"No Script Text!";if(this.modInfo.name||(this.modInfo.name=this.modInfo.GM_info.script.name),this.modInfo.version||(this.modInfo.version=this.modInfo.GM_info.script.name),!this.modInfo.name)throw"No module name!";if(!this.modInfo.version)throw"No module version!";this.modInfo.id=n||i.camelize(o),this.modInfo.abbrev=r||o.split(" ").map((o=>o[0].toUpperCase())).join(""),this.parent?(this.modInfo.idList=this.parent.abbrevList.concat([this.modInfo.id]),this.modInfo.abbrevList=this.parent.abbrevList.concat([this.modInfo.abbrev]),this.parent[this.modInfo.id]=this):(this.modInfo.idList=[this.modInfo.id],this.modInfo.abbrevList=[this.modInfo.abbrev])}static camelize(o){return o.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(function(o,i){return 0==+o?"":0===i?o.toLowerCase():o.toUpperCase()}))}static parseScriptHeader(o){o.match(/(?:\/\/\s*)?==UserScript==([\S\s]*)==\/UserScript==/)[1].split(/\n\s*\/\//g).map((o=>o.trim())).filter((o=>o)).map((o=>{let i=o.match(/\s+/);return[o.slice(0,i.index).split("."),o.slice(i.index+i[0].length)]}))}}["debug","log","info","warn","error"].forEach((o=>i.prototype[o]=function(...i){return console[o](`[${this.abbrevList}]`,...i),i[0]})),UPI=new i({name:"United Program Interface",author:"SArpnt and TumbleGamer",id:"UPI",abbrev:"UPI"}),UPI.info(UPI)}();